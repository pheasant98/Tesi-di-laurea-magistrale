% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX root = ../tesi.tex

%**************************************************************
\chapter{Introduzione}
\label{cap:introduzione}
%**************************************************************
%MEMO: Spiegazione del problema affrontato (il suo dominio) alcune applicazioni fatte nell'ambito delle comparazioni sportive, con maggior attenzione a qui studi con approccio statistico, esporre tecnologie usate e tools (Packages R ecc), motivazione scelta argomento della tesi e esposizione struttura della tesi(capitoli) TO DO
\intro{Il seguente capitolo descrive il problema scientifico affrontato in questa tesi e fornire un visione della letteratura di riferimento. Inoltre, il capitolo illustra le tecnologie utilizzate nella tesi, le motivazioni personali alla base della sua realizzazione e infine la struttura. } 

%**************************************************************
\section{Dominio del problema}

Negli ultimi anni lo sport del calcio è stato oggetto di un grande processo di rinnovamento tecnologico. Infatti, grazie alla spinta dell'evoluzione dei sistemi di comunicazioni, ora da una singola partita è possibile ottenere una grande quantità di informazioni in modo semplice, dato che lo sviluppo delle piattaforme di \emph{streaming} permette di usufruire di contenuti calcistici in ogni momento a livello globale. Questo rinnovamento tecnologico del calcio, con la conseguente disponibilità di dati riguardanti partite e giocatori, è dovuto anche all'introduzione di sensori e sistemi di tracciamento sofisticati all'interno del campo da calcio, come, ad esempio, la \emph{Goal-Line Technology} (vedi \textit{\cite{glt}}) oppure la Video Assistant Referee (VAR) (vedi \textit{\cite{var}}). Recentemente, durante la World Cup Qatar 2022, è stato introdotto il fuorigioco semi-automatico (vedi \textit{\cite{offside}}) composto da una grande quantità di sensori e telecamere per il tracciamento.\\
Data la disponibilità di una notevole quantità di dati e informazioni relative alle partite e ai giocatori, sono nati nuovi obbiettivi di studi. Tra questi, vi è lo \textit{scouting} di giocatori emergenti \autocite{vilela2018towards} oppure la scelta del ruolo più adatto per il giocatore in base alle sue caratteristiche \autocite{razali2017predicting} oppure quanto un giocatore è soggetto ad infortuni \autocite{theron2020use}. Oltre a questi, diversi studi si concentrano sull'analisi di informazioni relative alle squadre e alle partite nel loro complesso, ad esempio, il lavoro di \autocite{ley2019ranking} che utilizza dieci modelli statistici basati sulla forza stimata sulle partite di calcio, analizza il campionato inglese di calcio (Premier League) per produrre un nuovo \emph{ranking}.\\
Questa tesi si concentrerà sull'analisi delle partite, ossia l'interesse è l'identificazione dei fattori associati all'esito della partita. Infatti, molto spesso ci si pone l'interrogativo se una statistica, quale ad esempio il possesso della palla, o il numero di falli fatti o il numero di tiri fatti, sia rilevante per l'esito della partita, e in caso affermativo, con quale peso sia associata alla vittoria o al pareggio o alla sconfitta. Dunque, l'analisi sarà condotta sulle partite del campionato italiano della Serie A della stagione 2021/2022, utilizzando le statistiche più rilevanti, raccolte durante le partite di calcio. I dati utilizzati sono stati reperiti dal sito web \textit{\cite{fbref}}, il quale mette a disposizione un enorme quantità di statistiche riguardanti le partite delle maggiori leghe di calcio di più stagioni.\\
Fondamentale è la scelta delle metodologie da utilizzare per le analisi. Si è scelto l'utilizzo del modello Bradley-Terry \autocite{bradley1952rank} per l'interpretazione dei dati, l'individuazione di possibili legami tra le statistiche registrate durante una partita e l'esito della partita e infine, per scopi di predizione. Successivamente sono state utilizzate anche tecniche di \emph{machine learning} per implementare modelli matematici più complessi in grado di ottenere previsioni più accurate.
\section{Applicazione}
\textcite{bradley1952rank} hanno sviluppato un modello statistico utile per i confronti a coppie. L'obbiettivo è quello, per ogni confronto, di stabilire quale dei due oggetti confrontati sia il migliore sulla base di tratti latenti non osservati. Un esempio di tratto latente è l'effetto dell'ambiente dove avviene il confronto, che nell'ambito calcistico può essere tradotto come il vantaggio di giocare una partita in casa. \\
Successivamente il modello Bradley-Terry è stato modificato con diverse estensioni. Un'importante estensione si deve a \textcite{davidson1970extending}, il quale ha introdotto il pareggio nel confronto a coppie, elemento fondamentale per la nostra ricerca dato che il modello originario sviluppato da Bradley e Terry è binario (vittoria/sconfitta). In seguito grazie ai lavoro di \textcite{francis2010} e di \textcite{Turner2012Firth} è stata introdotta e approfondita l'inclusione di covariate per la valutazione nei confronti, ovvero l'utilizzo di attributi che descrivono i soggetti che eseguono i confronti tra oggetti. Nel nostro contesto, i soggetti sono rappresentanti dalle partite di calcio, mentre gli oggetti sono rappresentati dalle squadre di calcio. Successivi lavori da parte di \textcite{thurner2000policy} e di \textcite{mauerer2015modeling} introducono le covariate specifiche dell'oggetto e le covariate specifiche del soggetto e dell'oggetto.\\ %Nonostante non sia stata applicata all'interno di questa tesi si riporta l'esistenza di espansione del modello Bradley Terry elaborata da \textcite{cattelan2013dynamic} di una versione dinamica del modello ossia nel valutare i due oggetti viene presa in considerazione l'evoluzione che hanno avuto quest'ultimi.
Con l'introduzione delle covariate nei modelli di comparazioni a coppie aumentò la complessità dei modelli. Pertanto, sono state proposte in letteratura soluzioni basate sui metodi di regolarizzazione per ridurre la complessità dei modelli. Si veda ad esempio, \textcite{schauberger2019btllasso}, in cui svolgono l'analisi delle partite del campionato tedesco (Bundesliga) applicando il metodo LASSO come metodo di regolarizzazione.\\
Nell'ambito delle predizioni degli esiti delle comparazioni attraverso il modello Bradley-Terry si riporta l’interessante lavoro svolto da \textcite{kang2015poisson} in cui vengono svolte predizioni sulle partite del videogioco League of Legends (LOL). Per quanto riguarda i modelli predittivi di \emph{machine learning} \textcite{xu2021prediction} applica i metodi Decision Tree e Random Forest per la predizione degli esiti delle partite di calcio della Bundesliga.

\section{Tecnologie e Strumenti utilizzati}
Nella seguente sezione saranno illustrate le tecnologie e gli strumenti utilizzati durante il lavoro di tesi. 
\subsection{Tecnologie}
Le tecnologie utilizzate in questa tesi sono descritte di seguito.
\begin{itemize}
	\item \textbf{R} \autocite{R-language} è un linguaggio di programmazione per il calcolo statistico e l'analisi grafica. È stato sviluppato nel 1993 da Ross Ihaka e Robert Gentleman ed è diventato uno strumento molto popolare per l'analisi dei dati in molti campi, inclusa la scienza dei dati, l'economia, la genetica e la biologia computazionale. R offre un'ampia gamma di funzionalità per il trattamento dei dati, l'analisi statistica e la creazione di grafici e altre rappresentazioni visuali dei dati. Ad oggi è supportato dalla R Core Team e dalla R Foundation for Statistical Computing. È distribuito come software \emph{open source} e può essere facilmente esteso attraverso il \emph{download} di pacchetti di funzionalità aggiuntive sviluppati da una vasta comunità di utenti.\\
	Le librerie utilizzate sono indicate nell'Appendice \ref{cap:importR}.
	\item \textbf{Python} \autocite{van2003introduction} è un linguaggio di programmazione general-purpose, interpretato e ad alto livello. È stato sviluppato da Guido van Rossum negli anni '90 ed è mantenuto dalla Python Software Foundation. Il linguaggio Python è utilizzato in molti ambiti, come il web development, il \emph{machine learning} e l'automazione. È distribuito come software \emph{open source} e viene fornito con una grande quantità di librerie standard che espandono le sue funzionalità base.\\
	Le funzioni utilizzate sono indicate nell'Appendice \ref{cap:importPy}.
\end{itemize}


\begin{comment}
library(ggmosaic)
library(ggplot2)
library(gridExtra)
@article{marchiori2020secrets,
	title={Secrets of soccer: Neural network flows and game performance},
	author={Marchiori, Massimo and de Vecchi, Marco},
	journal={Computers \& Electrical Engineering},
	volume={81},
	pages={106505},
	year={2020},
	publisher={Elsevier}
}
\end{comment}

\subsection{Strumenti}
Gli strumenti utilizzati in questa tesi sono descritti di seguito.
\begin{itemize}
	\item \textbf{RStudio} (si veda \textit{\cite{rstudio}}) è un ambiente di sviluppo integrato (IDE) per il linguaggio di programmazione R. Fornisce un insieme di strumenti per facilitare la scrittura, il debugging e il \emph{testing} del codice R. RStudio include anche funzionalità per la visualizzazione e l'analisi dei dati, come il supporto per i grafici interattivi e la possibilità di eseguire il codice R direttamente nell'editor di testo. RStudio è distribuito come \emph{software} \emph{open source}. In questa tesi è stato utilizzato per implementare il modello Bradley-Terry in R.
	\item \textbf{PyCharm} (si veda \textit{\cite{pycharm}}) è un ambiente di sviluppo integrato (IDE) per il linguaggio di programmazione Python. Offre una serie di strumenti per facilitare la scrittura, il debugging e il \emph{testing} del codice Python. PyCharm include anche funzionalità per l'integrazione con altri strumenti e servizi comuni nello sviluppo web, come il supporto per il versionamento del codice con Git e il supporto per i \emph{framework} di sviluppo web come Django. PyCharm  è sviluppato da JetBrains. In questa tesi è stato utilizzato per implementare i modelli di \emph{machine learning} in Python.
\end{itemize}

\section{Motivazioni personali}
Durante il mio percorso di studio ho frequentato alcuni corsi legati al mondo dell'intelligenza artificiale e dello studio dei dati. Oltre a ciò, sono un appassionato dello sport del calcio. Nel seguire questo sport, a volte mi imbatto in articoli in cui sono riportate analisi dei dati e l'applicazione di algoritmi di \emph{machine learning} che provano a predire le classifiche finali dei maggiori campionati europei in fase di svolgimento. Inoltre, in seguito alla pandemia da COVID19, sempre più club calcistici hanno iniziato ad analizzare dati e statistiche per migliorare le loro prestazioni in campo e nello \emph{scouting}. Perciò, su spinta delle mie passioni e dalle recenti applicazioni precedentemente descritte, ho individuato nell'identificazione dei fattori associati all'esito di una partita, un campo di ricerca innovativo e interessante come lavoro di tesi di laurea magistrale.
\section{Struttura della tesi}
La struttura della tesi è riporta di seguito.
\begin{description}

\item[{\hyperref[cap:dataset]{Il secondo capitolo}}] descrive la raccolta dati e la struttura del dataset. 
\item[{\hyperref[cap:Analisi]{Il terzo capitolo}}] descrive l'analisi grafica dei dati e il \emph{preprocessing} dei dati. 
\item[{\hyperref[cap:BT]{Il quarto capitolo}}] descrive il modello Bradley-Terry e le sue estensioni che sono state utilizzante durante l'analisi.
\item[{\hyperref[cap:risultatiDM]{Il quinto capitolo}}] illustra i risultati registrati con il modello Bradley-Terry e le sue estensioni. Inoltre vengono riportate le predizioni eseguite dai vari modelli Bradley-Terry confrontate con le predizioni dei \emph{bookmakers}.
\item[{\hyperref[cap:ML]{Il sesto capitolo}}] descrive gli algoritmi di apprendimento automatico che sono stati utilizzanti durante l'analisi.
\item[{\hyperref[cap:RisML]{Il settimo capitolo}}] riporta le predizioni calcolate dagli algoritmi di apprendimento automatico.
\item[{\hyperref[cap:extraDM]{l'ottavo capitolo}}] descrive una nuova applicazione di un modello BT già utilizzato nel Capitolo \ref{cap:risultatiDM}, con una variabile risposta non più a tre ma a cinque categorie.
\item[{\hyperref[cap:precls]{Il nono capitolo}}] contiene una descrizione sui risultati riportati dai Capitoli \ref{cap:risultatiDM}, \ref{cap:RisML} e \ref{cap:extraDM}. 
\item[{\hyperref[cap:conclusioni]{Il decimo capitolo}}] riporta un riassunto di quanto è stato svolto, sottolineando possibili sviluppi del lavoro di tesi.
\end{description}





\begin{comment}
\begin{figure}[h]
	\begin{center}
		\includegraphics[scale=0.5]{Logo_azzurrodigite.png}
		\caption{Logo di AzzurroDigitale}
	\end{center}
\end{figure}	contenuto...
\end{comment}


%**************************************************************


%\gls{AWMS} \g{machine learning}


%\begin{description}
    
   % \item[{\hyperref[cap:descrizione-stage]{Il secondo capitolo}}] descrive in modo dettagliato lo stage svolto, indicandone obiettivi, prodotti attesi, pianificazione delle attività, strumenti e tecnologie utilizzate e motivazioni personali.
    
    
%\end{description}
